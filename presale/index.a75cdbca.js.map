{"mappings":"AAAA,MAAMA,eAAiB,CACnBC,OAAQ,0CACRC,WAAY,mCACZC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,6CAILC,IAAMC,SAASC,cAAcT,gBAK7BU,GAAKF,SAASG,YACdC,aAAeC,SAASC,iBAAiB,kBACzCC,2BAA6BF,SAASC,iBAAiB,6BACvDE,iBAAmBH,SAASC,iBAAiB,yBAC7CG,gBAAkBJ,SAASC,iBAAiB,6BAC5CI,mBAAqBL,SAASC,iBAAiB,0CAI5CK,+BACLC,QAAQC,IAAG,sCAEX,IAAIC,EAAyB,GAGzBC,EAAe,IACfC,EAAiBC,iBAAmB,cAAgB,UACpDC,EAAU,SACdA,EAAU,uBAEVN,QAAQO,KAAI,wBAAyBH,KAGrCd,GAAGkB,WAAWJ,GAAgBK,IALpB,wBAMLC,YAAYD,IACTT,QAAQC,IAAI,iBAAkBQ,EAAIE,QAClCT,EAAyBO,EAAIE,OAAOC,WACpCV,GAA0BA,EAE1BC,EAAeM,EAAIE,OAAOE,OAC1BV,GAAgBA,EAAaW,QAAQ,GACrCd,QAAQC,IAAG,kBAAmBE,KAC9BH,QAAQC,IAAG,eAAgBC,KAE3BV,cAAgBA,aAAauB,SAAQC,IAEjCd,EAAyB,IAAIe,iBAAmB,GAChDD,EAAGE,OAAShB,EAAuBY,QAAQ,MAE/CnB,4BAA8BA,2BAA2BoB,SAAQC,IAC7DA,EAAGG,WAAajB,EAAuBY,QAAQ,MAEnDlB,kBAAoBA,iBAAiBmB,SAAQC,IACzCA,EAAGG,UAAYhB,KAGnBiB,EAAgBL,SAAQM,IACpB,IAAIC,GAAWpB,EAAyB,EAExCoB,GADmB,KACKA,EADL,IAGnBA,GADmB,IACKA,EADL,GAEnBD,EAAEE,MAAMC,KAAI,GAAMF,QAEtBG,EAAmBV,SAAQM,IACvB,IAAIC,GAAWpB,EAAyB,EAExCoB,GADsB,KACKA,EADL,IAGtBA,GADsB,KACKA,EADL,IAEtBD,EAAEE,MAAMC,KAAI,GAAMF,WAI9B,MAAMF,EAAkB3B,SAASC,iBAAiB,6BAClD0B,EAAgBL,SAAQM,IACpB,IAAIC,GAAWpB,EAAyB,EAGxCoB,GAFmB,KAEKA,EAFL,IAInBA,GADmB,IACKA,EADL,GAInBD,EAAEE,MAAMC,KAAI,GAAMF,QAEtB,MAAMG,EAAqBhC,SAASC,iBAAiB,iCACrD+B,EAAmBV,SAAQM,IACvB,IAAIC,GAAWpB,EAAyB,EAExCoB,GADmB,KACKA,EADL,IAGnBA,GADmB,IACKA,EADL,GAInBD,EAAEE,MAAMC,KAAI,GAAMF,iBAIjBI,oBAAoBC,EAAWC,GACpC,IAAIxB,EAAiBC,iBAAmB,OAAS,UAC7CC,EAAU,SACdA,EAAU,uBACVN,QAAQO,KAAI,+CAAgDH,KAC5DJ,QAAQC,IAAG,YAAa0B,KACxB3B,QAAQC,IAAG,gBAAiB2B,KAC5BtC,GAAGkB,WAAWJ,GAAgBK,IAJpB,wBAIiCoB,IAAI,CAC3CjB,WAAYgB,EACZf,OAAQc","sources":["src/js/utilFirebase.js"],"sourcesContent":["const firebaseConfig = {\r\n    apiKey: \"AIzaSyCW_zePbfL7fms_Jg4oRL8Up5OE36rTjcU\",\r\n    authDomain: \"battleinfinityio.firebaseapp.com\",\r\n    projectId: \"battleinfinityio\",\r\n    storageBucket: \"battleinfinityio.appspot.com\",\r\n    messagingSenderId: \"694775551331\",\r\n    appId: \"1:694775551331:web:93cd3513614d2ce11daf56\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\n\r\n// Initialize Cloud Firestore and get a reference to the service\r\n\r\nconst db = firebase.firestore();\r\nconst progressBars = document.querySelectorAll('.sale-progress');\r\nconst raisedAmountPercentageHTML = document.querySelectorAll('.sale-progress-percentage');\r\nconst raisedAmountHTML = document.querySelectorAll('.sale-progress-amount');\r\nconst parentContainer = document.querySelectorAll('.sale-progress-val-parent');\r\nconst parentContainerMob = document.querySelectorAll('.sale-progress-val-parent-mob');\r\n\r\n\r\n\r\nfunction populateAmountRaisedinHTMLDB() {\r\n    console.log(`ran - populateAmountRaisedinHTMLDB`);\r\n    const HARDCAP = +16500;\r\n    let raisedAmountPercentage = '';\r\n\r\n\r\n    let raisedAmount = '0'; //which will be 'logged out' if user is logged out\r\n    let collectionName = TEST_ENVIRONMENT ? 'presaletest' : 'presale';\r\n    let docName = 'raised'; //dropped the idea of using this docname coz will have to update code on main website as well\r\n    docName = 'dO5gYxp7ZUaiGWvUUebH';\r\n    // let collectionName = 'presale';\r\n    console.info(`DB Collection name - ${collectionName}`);\r\n\r\n    // db.collection(collectionName).doc(\"dO5gYxp7ZUaiGWvUUebH\")\r\n    db.collection(collectionName).doc(docName)\r\n        .onSnapshot((doc) => {\r\n            console.log(\"Current data: \", doc.data());\r\n            raisedAmountPercentage = doc.data().percentage;\r\n            raisedAmountPercentage = +raisedAmountPercentage;\r\n\r\n            raisedAmount = doc.data().amount;\r\n            raisedAmount = +raisedAmount.toFixed(2);\r\n            console.log(`raisedAmount = ${raisedAmount}`);\r\n            console.log(`setting % = ${raisedAmountPercentage}`);\r\n\r\n            progressBars && progressBars.forEach(el => {\r\n                // in this example - the countValue = 0\r\n                raisedAmountPercentage < 1 ? percentageForBar = 1 : '';\r\n                el.value = +raisedAmountPercentage.toFixed(2);\r\n            });\r\n            raisedAmountPercentageHTML && raisedAmountPercentageHTML.forEach(el => {\r\n                el.innerHTML = +raisedAmountPercentage.toFixed(2);\r\n            })\r\n            raisedAmountHTML && raisedAmountHTML.forEach(el => {\r\n                el.innerHTML = raisedAmount;\r\n            })\r\n\r\n            parentContainer.forEach(e => {\r\n                let leftVal = +raisedAmountPercentage - 3;\r\n                const maxLeftVal = +94;\r\n                leftVal >= maxLeftVal ? leftVal = maxLeftVal : '';\r\n                const minLeftVal = +0;\r\n                leftVal <= minLeftVal ? leftVal = minLeftVal : '';\r\n                e.style.left = `${leftVal}%`;\r\n            })\r\n            parentContainerMob.forEach(e => {\r\n                let leftVal = +raisedAmountPercentage - 3;\r\n                const maxLeftValMob = +65;\r\n                leftVal >= maxLeftValMob ? leftVal = maxLeftValMob : '';\r\n                const minLeftValMob = +15;\r\n                leftVal <= minLeftValMob ? leftVal = minLeftValMob : '';\r\n                e.style.left = `${leftVal}%`;\r\n            })\r\n        });\r\n\r\n    const parentContainer = document.querySelectorAll('.sale-progress-val-parent');\r\n    parentContainer.forEach(e => {\r\n        let leftVal = +raisedAmountPercentage - 3;\r\n        const maxLeftVal = +94;\r\n        // console.log(`-left = ${leftVal}`);\r\n        leftVal >= maxLeftVal ? leftVal = maxLeftVal : '';\r\n        const minLeftVal = +0;\r\n        leftVal <= minLeftVal ? leftVal = minLeftVal : '';\r\n        // console.log(`-left = ${leftVal}`);\r\n        // console.log(e);\r\n        e.style.left = `${leftVal}%`;\r\n    })\r\n    const parentContainerMob = document.querySelectorAll('.sale-progress-val-parent-mob');\r\n    parentContainerMob.forEach(e => {\r\n        let leftVal = +raisedAmountPercentage - 3;\r\n        const maxLeftVal = +65;\r\n        leftVal >= maxLeftVal ? leftVal = maxLeftVal : '';\r\n        const minLeftVal = +0;\r\n        leftVal <= minLeftVal ? leftVal = minLeftVal : '';\r\n        // console.log(`left = ${leftVal}`);\r\n        // console.log(e);\r\n        e.style.left = `${leftVal}%`;\r\n    })\r\n}\r\n\r\nfunction updateRaisedBNBinDB(amountBNB, percentageBNB) {\r\n    let collectionName = TEST_ENVIRONMENT ? 'test' : 'presale';\r\n    let docName = 'raised'; //dropped the idea of using this docname coz will have to update code on main website as well\r\n    docName = 'dO5gYxp7ZUaiGWvUUebH';\r\n    console.info(`dev:updateRaisedBNBinDB - Collection name - ${collectionName}`);\r\n    console.log(`Amount - ${amountBNB}`);\r\n    console.log(`Percentage - ${percentageBNB}`);\r\n    db.collection(collectionName).doc(docName).set({\r\n        percentage: percentageBNB,\r\n        amount: amountBNB\r\n    })\r\n}"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","firebase","initializeApp","db","firestore","progressBars","document","querySelectorAll","raisedAmountPercentageHTML","raisedAmountHTML","parentContainer","parentContainerMob","populateAmountRaisedinHTMLDB","console","log","raisedAmountPercentage","raisedAmount","collectionName","TEST_ENVIRONMENT","docName","info","collection","doc","onSnapshot","data","percentage","amount","toFixed","forEach","el","percentageForBar","value","innerHTML","parentContainer1","e","leftVal","style","left","parentContainerMob1","updateRaisedBNBinDB","amountBNB","percentageBNB","set"],"version":3,"file":"index.a75cdbca.js.map"}